# This is the chrooted sshd server configuration file. See sshd_config(5)
# for more information.


### SERVER OPTIONS

Protocol 2
Port 10022
#AddressFamily any
ListenAddress 127.0.0.1

# Can't write in chroot
PidFile /dev/null

# Enable the SFTP file transfer program.
#Subsystem	sftp	/usr/libexec/openssh/sftp-server

# The maximum number of concurrent unauthenticated connections.
# MaxStartups 10

# Send periodic TCP keepalive messages to close non-responsive connections.
TCPKeepAlive yes

# ClientAlive is more flexible and secure than TCPKeepAlive. (ssh2)
# Send an alive messages every 60 seconds, and disconnect after 10 minutes.
ClientAliveInterval 30
ClientAliveCountMax 2

# Delay compression until after the user has authenticated successfully.
Compression delayed

# Do not permit device tunnelling.
PermitTunnel no

# Allow forwarding of TCP connections.
AllowTcpForwarding yes

# Prevent arbitrary remote hosts from connecting to forwarded ports.
GatewayPorts no

# Do not use protection against privilege escalation.
UsePrivilegeSeparation no


### KEY OPTIONS

# Supported ciphers. Not order dependent; client controls preference. (ssh2)
Ciphers blowfish-cbc

# Lifetime and size of ephemeral server key. (ssh1)
#KeyRegenerationInterval 1h
#ServerKeyBits 768

# Host key file. (ssh1)
#HostKey /etc/ssh/ssh_host_key

# Host key files. (ssh2)
HostKey _WSCLIENT_HOME_/third-party/openssh/etc/ssh_host_rsa_key
HostKey _WSCLIENT_HOME_/third-party/openssh/etc/ssh_host_dsa_key

### LOGGING OPTIONS

# QuietMode and FascistLogging are obsoleted.
SyslogFacility LOCAL6
LogLevel VERBOSE


### AUTHENTICATION OPTIONS

# Reduce this to mitigate a "connected but unauthenticated" DoS
# Since we only allow pubkey, this can be short.
LoginGraceTime 30s

# Verify permissions and ownership of the user's files and home directory.
StrictModes no

# Do not verify DNS mapping between the remote host IP address and host name.
UseDNS no

# The maximum number of authentication attempts permitted per connection.
#MaxAuthTries 6

# Permit remote login for the root account.
PermitRootLogin no

# Password Authentication
#

# Permit authentication with a user-supplied password. 
PasswordAuthentication no

# Do not permit authentication with empty passwords strings.
PermitEmptyPasswords no

# Allows keyboard-interactive challenge response authentication. If enabled,
# PasswordAuthentication should be disabled; KbdintXORPasswordAuthentication
# is obsoleted.
ChallengeResponseAuthentication no

# Host-based Authentication
#
# Combines rhosts authentication with authentication of the client host key.
#

# Do not permit host-based authentication mechanisms. (ssh1)
RhostsRSAAuthentication no

# Do not permit host-based authentication mechanisms. (ssh2)
HostbasedAuthentication no

# Don't trust the ~/.rhosts and ~/.shosts files for host-based authentication.
IgnoreRhosts yes

# Don't trust the ~/.ssh/known_hosts file for host-based authentication.
IgnoreUserKnownHosts yes

# Public-key authentication
#

#  Permit the RSA public key authentication mechanisms. (ssh1)
RSAAuthentication no
# Permit public key authentication mechanisms. (ssh2)
PubkeyAuthentication yes

# Location of public keys allowed for user authentication.
#AuthorizedKeysFile     .ssh/authorized_keys

### X PROXYING OPTIONS

# Setting X11Forwarding to "yes" permits encrypted X connections.
X11Forwarding no

# The DisplayOffset is the first display number used; 10 is reasonable.
X11DisplayOffset 10

# The yes setting offers better security but may not work with older X clients.
X11UseLocalhost yes

# XauthLocation specifies the default location of xauth.
#XAuthLocation /usr/X11R6/bin/xauth


### LOGIN OPTIONS

# Display a banner message BEFORE authentication. (ssh2)
#Banner /etc/issue.net

# These are platform-specific.  If you see double messages, use "no".
PrintMotd no
PrintLastLog no

# sshd performs standard login functionality, so default to no
# Specifies whether login(1) is used for interactive login sessions.
UseLogin no

# Ignore environment values set in .ssh/environment and .ssh/authorized_keys.
#PermitUserEnvironment no

# We only allow one user:
AllowUsers woodstock
